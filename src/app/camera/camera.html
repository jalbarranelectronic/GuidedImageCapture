<button #startBtn id="startBtn" (click)="startCapture()">Start capture</button>

<video #video id="video" autoplay playsinline></video>
<canvas #canvas id="canvas" style="display:none;"></canvas>
<canvas #overlayCanvas id="overlayCanvas"></canvas>

<div id="feedback">{{ feedback() }}</div>

<!-- Toggle switch -->
  <div class="toggle-container">
    <label class="switch">
      <input type="checkbox" [checked]="showDetections()" (change)="toggleDetections()" />
      <span class="slider"></span>
    </label>
    <span class="toggle-label">Show detections and proportions</span>
  </div>

  <div *ngIf="showDetections()">
    <div id="detections">
      <div *ngIf="detections().length === 0">No detections yet...</div>
      <div *ngFor="let d of detections()">{{ d }}</div>
    </div>

    <div id="proportionBox">
      Proportion: <span>{{ proportion() !== null ? proportion() : 'N/A' }}</span>
      <app-chart [newValue]="proportion()"></app-chart>
    </div>
  </div>

<div class="orientation-warning">
  <div class="orientation-content">
    <div class="phone-icon"></div>
    <p>Please turn your device to landscape orientation to continue.</p>
  </div>
</div>
